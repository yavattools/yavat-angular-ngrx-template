
<div class="container pl-0 pr-0">
  <mat-card class="agency-details-container pl-0 pr-0" [ngClass]="routeAnimationsElements">
    <mat-card-header >
      <button mat-button  class="bread-grum" (click)="goToDashboardHandler($event)">
        <i class="fa fa-chevron-left"></i> 
        Agencies
      </button>
    </mat-card-header>
    <div class="details-container-content">
      <div class="agency-details-container-head" *ngIf="(agency$ | async)?.agencyName">
        <h3 class="page-title">{{(agency$ | async)?.agencyName}}</h3>
        <span class="page-subtitle">{{(agency$ | async)?.agencyNumber}}</span>
      </div>
      <div class="agency-details-container-head" *ngIf="!(agency$ | async)?.agencyName">
        <h3 class="page-title">New Agency</h3>
        <span class="page-subtitle">Fill Details and Submit</span>
      </div>
    <mat-progress-bar mode="indeterminate" *ngIf="(agencyFacade.actionInProgress$ | async) || false"></mat-progress-bar>
    <mat-tab-group   mat-align-tabs="start" [(selectedIndex)]="selectedTabIndex">
      <mat-tab label="Details">
          <clgx-agency-details></clgx-agency-details>
      </mat-tab>
      <mat-tab label="Collection Practices">
        <div class="tab-content tab-label">
          <clgx-agency-collection-practices></clgx-agency-collection-practices>
        </div>
      </mat-tab>
      <mat-tab label="Procurement">
        <clgx-agency-procument *ngIf="selectedTabIndex === 2"></clgx-agency-procument>
      </mat-tab>
      <mat-tab label="Payment">
        <div class="tab-content tab-label">
          <clgx-agency-payment></clgx-agency-payment>
        </div>
      </mat-tab>
      <mat-tab label="Logs">
        <clgx-agency-logs></clgx-agency-logs>
      </mat-tab>
    </mat-tab-group>

    <div class="internal-group" *ngIf="selectedTabIndex !== 1">
      <div class="internal-heading">
        <span class="internal-label">Internal</span>
      </div>
      <div class="grid-wrapper">
        <mat-form-field class="big-input-box" color="accent" appearance="fill">
          <mat-label>Comments and notes</mat-label>
          <textarea matInput style="height: 260px"></textarea>
        </mat-form-field>
        <div class="row" style="height: 200px;">
          <div class="col-12 pb-3">
            <mat-form-field >
              <mat-label>Last updated by</mat-label>
              <input [ngModel]="(agency$ | async)?.modifiedBy" disabled="true" matInput >
            </mat-form-field>
          </div>
          <div class="col-12 pb-3">
            <mat-form-field >
              <mat-label>Last date updated</mat-label>
              <input  disabled="true" [ngModel]="(agency$ | async)?.modifiedBy" matInput >
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>
    </div>
  </mat-card>
</div>
